{% extends 'shop/root.html' %}
{% load static %}
{% block title %}{{ product.title }}ATOM{% endblock %}
{% block content %}
{% load dict_extras %}

{# Optional: small CSS so selected swatch is visually clear #}
<style>
  .swatch-element { display:inline-block; margin-right:6px; }
  .swatchLbl { display:inline-block; padding:8px 12px; border:1px solid #ddd; border-radius:6px; cursor:pointer; }
  .swatch-element.selected .swatchLbl { border-color:#111; font-weight:600; box-shadow:0 1px 4px rgba(0,0,0,0.08); }
</style>

  <!-- <style>
    /* Minimal styles to match your existing structure (copy into your CSS file if you want) */
    .product-single { padding: 24px; max-width: 1100px; margin: 0 auto; }
    .product-thumb a img { width: 72px; height: 72px; object-fit: cover; border-radius: 4px; margin:6px; }
    .zoompro-wrap img { width: 100%; max-width: 520px; object-fit: cover; display:block; }
    .swatchLbl.color.small { width: 28px; height: 28px; display:inline-block; border-radius:50%; border:1px solid #ddd; }
    .swatchLbl.medium.rectangle { display:inline-block; padding:6px 10px; border-radius:4px; border:1px solid #ddd; background:#fff; cursor:pointer; }
    .product-single__meta { margin-bottom:12px; }
    .product-form__item { margin-bottom:12px; }
  </style>
   -->

<!--Body Content-->
<div id="page-content">
  <!--MainContent-->
  <div id="MainContent" class="main-content" role="main">

    <!-- Breadcrumb -->
    <div class="bredcrumbWrap" style="margin-top: 10px;">
      <div class="container breadcrumbs">
        <a href="{% url 'index' %}" title="Back to the home page">Home</a>
        <span aria-hidden="true">â€º</span>
        <span>{{ cosmetic.name }}</span>
      </div>
    </div>
    <!-- End Breadcrumb -->

    <div class="bredcrumbWrap container" style="margin-top:10px;">
      <!-- optional small meta -->
    </div>

    <div id="ProductSection-cosmetic-template" class="product-template__container prstyle1 container">

      <div class="product-single">
        <div class="row">

          <!-- Left: Images -->
          <div class="col-lg-6 col-md-6 col-sm-12 col-12">
            <div class="product-details-img">
              <div class="product-thumb">
                <div id="gallery" class="product-dec-slider-2 product-tab-left">
                  {# Thumbnails / gallery - use gallery_images prepared in view #}
                  {% for img in gallery_images %}
                    <a data-image="{{ img }}" data-zoom-image="{{ img }}">
                      <img class="blur-up lazyload" src="{{ img }}" alt="{{ cosmetic.name }}">
                    </a>
                  {% endfor %}
                </div>
              </div>

              <div class="zoompro-wrap product-zoom-right pl-20">
                <div class="zoompro-span">
                  <img class="zoompro blur-up lazyload"
                       data-zoom-image="{{ image_url }}"
                       alt="{{ cosmetic.name }}"
                       src="{{ image_url }}" />
                </div>

                <div class="product-buttons">
                  {% if hover_url %}
                    <a href="{{ hover_url }}" class="btn prlightbox" title="Zoom hover"><i class="icon anm anm-expand-l-arrows" aria-hidden="true"></i></a>
                  {% endif %}
                </div>
              </div>

              <div class="lightboximages">
                {% for img in gallery_images %}
                  <a href="{{ img }}" data-size="1200x1600"></a>
                {% endfor %}
              </div>
            </div>
          </div>
          <!-- End Images -->

          <!-- Right: Details -->
          <div class="col-lg-6 col-md-6 col-sm-12 col-12">
            <div class="product-single__meta">
              <h1 class="product-single__title">{{ cosmetic.name }}</h1>

              <div class="prInfoRow">
                

              <p class="product-single__price">
                <span class="product-price__price">
                  <span class="money" id="product-price">${{ price|floatformat:2 }}</span>
                </span>
              </p>

              <div class="orderMsg" data-user="23" data-time="24">
                <img src="{% static 'images/order-icon.jpg' %}" alt="" /> <strong class="items">5</strong> sold in last <strong class="time">26</strong> hours
              </div>
            </div>

            <div class="product-single__description rte">
              {% if short_desc %}
                <p>{{ short_desc }}</p>
              {% else %}
                <p>No description available.</p>
              {% endif %}
            </div>

            <div id="quantity_message">Hurry! Only <span class="items">4</span> left in stock.</div>

            {# Add to cart form for cosmetics - adjust URL name 'add_to_cart_cosmetic' to your actual URL if different #}
            <form id="add-to-cart-cosmetic" method="post" action="{% url 'add_to_cart' 'cosmetic' cosmetic.cosmetic_product_id %}">
              {% csrf_token %}
              <div class="product-form__item--submit">
                <button type="submit" class="btn custom-cart-button">
                  <span>Add to cart</span>
                </button>
              </div>
            </form>

            <div class="display-table shareRow" style="margin-top:12px;">
              <div class="display-table-cell medium-up--one-third">
                <div class="wishlist-btn">
                  <a class="wishlist add-to-wishlist" href="#" title="Add to Wishlist"><i class="icon anm anm-heart-l" aria-hidden="true"></i> <span>Add to Wishlist</span></a>
                </div>
              </div>

              <div class="display-table-cell text-right">
                <div class="social-sharing">
                  <a target="_blank" href="#" class="btn btn--small btn--secondary btn--share share-facebook" title="Share on Facebook">
                    <i class="fa fa-facebook-square" aria-hidden="true"></i> <span class="share-title" aria-hidden="true">Share</span>
                  </a>
                  <a target="_blank" href="#" class="btn btn--small btn--secondary btn--share share-twitter" title="Tweet on Twitter">
                    <i class="fa fa-twitter" aria-hidden="true"></i> <span class="share-title" aria-hidden="true">Tweet</span>
                  </a>
                </div>
              </div>
            </div>

          </div>
          <!-- End Details -->

        </div>
      </div>

    </div>
  </div>
</div>

{% endblock content %}
